<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto AkshayaSelvakumar - Web3 Tools</title> 
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://raw.githubusercontent.com/Akshayadeveloper/crypto-akshayaselvakumar/main/BKPic1.jpg');
            background-size: cover;
            padding: 120px 0;
        }
        .tool-card {
            transition: transform 0.3s;
            height: 100%;
        }
        .tool-card:hover {
            transform: translateY(-10px);
        }
        .gas-tier div {
            padding: 8px;
            border-radius: 5px;
            background: rgba(0,0,0,0.05);
        }
        .d-none { display: none; }
        #gasChart {
            max-height: 300px;
        }
        .premium-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ff9f43);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://raw.githubusercontent.com/Akshayadeveloper/crypto-akshayaselvakumar/main/logo-png.png" 
                     alt="Logo" width="40" height="40" class="d-inline-block align-text-top">
                Crypto Akshaya
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#tools">Tools</a></li>
                    <li class="nav-item"><a class="nav-link" href="#donate">Donate</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                </ul>
            </div>
        </div>
    </nav>
     <!-- Hero Section -->
    <section class="hero-section text-white text-center">
        <div class="container">
            <h1 class="display-4 mb-4">Your Ultimate Web3 Toolkit</h1>
            <p class="lead">Free crypto tools for Ethereum users - Gas tracker, Tax calculator, Airdrop alerts</p>
        </div>
    </section>

    <!-- Donate Section -->
    <section id="donate" class="py-5 bg-light">
        <div class="container text-center">
            <h2 class="mb-4">Support Our Development</h2>
            <!-- NowPayments Donation Button -->
            <button class="btn btn-primary btn-lg" 
                    data-nowpayments
                    data-description="Support Crypto Akshaya"
                    data-currency="eth"
                    data-type="donation"
                    data-amount=""
                    data-label="Donate ETH">
                üí∞ Donate ETH
            </button>
        </div>
    </section>

    <!-- Tools Section -->
    <section id="tools" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Featured Tools</h2>
            <div class="row g-4">
                <!-- Gas Fee Optimizer -->
                <div class="col-md-4">
                    <div class="card tool-card">
                        <div class="card-body">
                            <h5 class="card-title">üöÄ Gas Fee Optimizer</h5>
                            <div class="gas-tier mb-3">
                                <div class="low-tier">
                                    <span class="badge bg-success">Low</span>
                                    <span id="gasLow">-</span> gwei
                                </div>
                                <div class="avg-tier mt-2">
                                    <span class="badge bg-warning">Avg</span>
                                    <span id="gasAvg">-</span> gwei
                                </div>
                                <div class="high-tier mt-2">
                                    <span class="badge bg-danger">High</span>
                                    <span id="gasHigh">-</span> gwei
                                </div>
                            </div>
                            <canvas id="gasChart"></canvas>
                        </div>
                    </div>
                </div>
            
                <!-- Tax Calculator with Premium Feature -->
                <div class="col-md-4">
                    <div class="card tool-card">
                        <div class="card-body">
                            <span class="badge premium-badge">PRO</span>
                            <h5 class="card-title">üí∏ Tax Calculator</h5>
                            <div class="mb-3">
                                <input type="text" id="walletAddress" class="form-control" placeholder="Enter ETH Address">
                                <button onclick="calculateTax()" class="btn btn-primary mt-2">Calculate</button>
                            </div>
                            <div id="taxResult" class="d-none">
                                <p>Taxable Gains: <span id="taxAmount">0</span> ETH</p>
                                <p>Tax Owed (20%): <span id="taxOwed">0</span> ETH</p>
                                <!-- Premium Download Button -->
                                <button class="btn btn-success" 
                                        onclick="showPremiumOffer()">
                                    Download Pro Report (0.1 ETH)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
             <!-- Airdrop Tracker -->
                <div class="col-md-4">
                    <div class="card tool-card">
                        <div class="card-body">
                            <h5 class="card-title">üéÅ Airdrop Tracker</h5>
                            <p class="card-text">Latest crypto airdrop opportunities</p>
                        </div>
                    </div>
                </div>        
            </div>
        </div>
    </section>

    <!-- Pro Updates Form -->
    <section class="bg-dark text-white py-4">
        <div class="container">
            <h5 class="text-center mb-3">Get Pro Tool Updates</h5>
            <form action="https://formspree.io/f/xeooydzk" method="POST" class="row g-3 justify-content-center">
                <div class="col-md-4">
                    <input type="email" name="email" class="form-control" placeholder="Enter email" required>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-outline-light w-100" type="submit">Subscribe</button>
                </div>
            </form>
        </div>
      
      <div class="col-md-6 text-end">
                    <p>&copy; 2025 Crypto AkshayaSelvakumar</p>
                    <p>Hosted on GitHub Pages</p>
                </div>
    </section>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- NowPayments Widget -->
     <script>
        // NowPayments Configuration
        const NOWPAYMENTS_API_KEY = "YOUR_NOWPAYMENTS_API_KEY";
        const NOWPAYMENTS_DONATION_LINK = "https://nowpayments.io/donation/CryptoAkshaya";
        const NOWPAYMENTS_PRO_PRODUCT_LINK = "https://nowpayments.io/payment/?iid=4396532580";

        // Initialize NowPayments Donation Button
        document.querySelector('[data-nowpayments]').addEventListener('click', () => {
            window.open(NOWPAYMENTS_DONATION_LINK, '_blank');
        });

        // Premium Feature Handling
        function showPremiumOffer() {
            const confirmed = confirm("Upgrade to Pro for detailed PDF reports (0.1 ETH)");
            if(confirmed) {
                window.location.href = NOWPAYMENTS_PRO_PRODUCT_LINK;
            }
        }

        // Handle payment success redirect
        const urlParams = new URLSearchParams(window.location.search);
        if(urlParams.has('payment_success')) {
            window.history.replaceState({}, document.title, "/");
            showThankYouPage();
        }

        function showThankYouPage() {
            const html = `
                <div class="container text-center py-5">
                    <h2 class="text-success">üéâ Payment Successful!</h2>
                    <p class="lead">Thank you for upgrading to Pro!</p>
                    <button onclick="generatePDF()" class="btn btn-lg btn-primary">
                        Download Pro Report
                    </button>
                    <p class="mt-3"><a href="/">Return to Home</a></p>
                </div>
            `;
            document.body.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', () => {
        const ETHERSCAN_API_KEY = "UR4VBGYHPUBPQSEMUEZ4GJI37U7SDXUNJ8";
        const COVALENT_API_KEY = "cqt_rQPcbvmcm98yvKYCjPXwt3PGBXyf";
        
        // Gas Fee Optimizer
        const gasChart = new Chart(document.getElementById('gasChart'), {
            type: 'line',
            data: {
                labels: Array.from({length: 24}, (_, i) => `${i}h`),
                datasets: [{
                    label: 'Gas Price (gwei)',
                    data: [],
                    borderColor: '#0d6efd',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } }
            }
        });

        async function fetchGasPrices() {
            try {
                const response = await fetch(
                    `https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=${ETHERSCAN_API_KEY}`
                );
                const data = await response.json();
                
                if(data.status === "1") {
                    document.getElementById("gasLow").textContent = data.result.SafeGasPrice;
                    document.getElementById("gasAvg").textContent = data.result.ProposeGasPrice;
                    document.getElementById("gasHigh").textContent = data.result.FastGasPrice;
                    
                    // Update chart data
                    gasChart.data.datasets[0].data = Array.from({length: 24}, () => 
                        Math.floor(Math.random() * 50 + 20)
                    );
                    gasChart.update();
                }
            } catch(error) {
                console.error("Gas price error:", error);
            }
        }

        // Tax Calculator
        window.calculateTax = async () => {
            const address = document.getElementById("walletAddress").value.trim();
            if(!address) return alert("Please enter a wallet address");

            try {
                const response = await fetch(
                    `https://api.covalenthq.com/v1/1/address/${address}/transactions_v2/?key=${COVALENT_API_KEY}`
                );
                const data = await response.json();
                
                if(!data.data?.items) return alert("No transactions found");
                
                let totalGains = data.data.items.reduce((acc, tx) => {
                    if(tx.from_address.toLowerCase() === address.toLowerCase()) {
                        return acc + (tx.value * 1e-18); // Convert wei to ETH
                    }
                    return acc;
                }, 0);

                const taxOwed = totalGains * 0.2;
                document.getElementById("taxAmount").textContent = totalGains.toFixed(4);
                document.getElementById("taxOwed").textContent = taxOwed.toFixed(4);
                document.getElementById("taxResult").classList.remove("d-none");
            } catch(error) {
                alert("Error fetching transactions");
                console.error(error);
            }
        };

        window.generatePDF = () => {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.text("Crypto Tax Report", 10, 10);
            doc.text(`Wallet Address: ${document.getElementById("walletAddress").value}`, 10, 20);
            doc.text(`Taxable Gains: ${document.getElementById("taxAmount").textContent} ETH`, 10, 30);
            doc.text(`Tax Owed (20%): ${document.getElementById("taxOwed").textContent} ETH`, 10, 40);
            doc.save("tax-report.pdf");
        };

        // Initialize gas prices
        fetchGasPrices();
        setInterval(fetchGasPrices, 30000);
    });
        
    </script>
</body>
</html>
   
